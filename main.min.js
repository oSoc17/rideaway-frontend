!function e(t,o,r){function n(a,s){if(!o[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){var o=t[a][1][e];return n(o||e)},u,u.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,o){"use strict";function r(){var e=document.createElement("div");e.className="marker";var t=document.createElement("div");t.className="dot";var o=document.createElement("div");return o.className="pulse",e.appendChild(t),e.appendChild(o),new mapboxgl.Marker(e)}function n(e){var t=r();navigator.geolocation?navigator.geolocation.watchPosition(function(o){return i(o,t,e)}):alert("Sorry, your browser doesn't support geolocation!"),window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",a)}function i(e,t,o){t.setLngLat([e.coords.longitude,e.coords.latitude]),t.addTo(o)}function a(e){}Object.defineProperty(o,"__esModule",{value:!0}),o.startTracking=n},{}],2:[function(e,t,o){"use strict";function r(){u.addSource("GFR",{type:"geojson",data:"http://188.226.154.37/routes/GFR.json"}),u.addLayer({id:"GFR_routes",type:"line",source:"GFR",layout:{visibility:"visible"},paint:{"line-color":{type:"identity",property:"colour"},"line-width":5,"line-opacity":.3}}),u.addLayer({id:"GFR_symbols",type:"symbol",source:"GFR",layout:{visibility:"visible","symbol-placement":"line","text-font":["Open Sans Regular"],"text-field":"{icr}","text-size":16},paint:{"text-color":{type:"identity",property:"colour"}}})}function n(e){var t=u.getLayoutProperty(e,"visibility");t="visible"===t?"none":"visible",u.setLayoutProperty(e,"visibility",t)}function i(e,t){({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:e},properties:{title:"START",iconSize:[50,50]}},{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{title:"END",iconSize:[50,50]}}]}).features.forEach(function(e){var t=document.createElement("img");t.className="marker",t.src="./icons/locator-yellow.svg",t.style.width=e.properties.iconSize[0]+"px",t.style.height=e.properties.iconSize[1]+"px",new mapboxgl.Marker(t,{offset:[-e.properties.iconSize[0]/2,-e.properties.iconSize[1]/2]}).setLngLat(e.geometry.coordinates).addTo(u)})}function a(e,t,o){e=[e[1],e[0]],t=[t[1],t[0]];var r="http://188.226.154.37/route?loc1="+e+"&loc2="+t+"&profile="+o;u.addLayer({id:o,type:"line",source:{type:"geojson",data:r},paint:{"line-color":"networks"===o?"red":"grey","line-width":4}})}function s(){u.removeLayer("networks"),u.removeLayer("shortest"),u.removeLayer("points")}function c(e){return new MapboxGeocoder({accessToken:"pk.eyJ1IjoiYXJuYXVkd2V5dHMiLCJhIjoiY2o0cGt3d3oxMXl0cDMzcXNlbThnM3RtaCJ9.BMUyxqHH-FC69pW4U4YO9A",flyTo:!1,placeholder:e,country:"BE"})}var l=e("./geolocation");mapboxgl.accessToken="";var u=new mapboxgl.Map({container:"map",style:"https://openmaptiles.github.io/positron-gl-style/style-cdn.json",center:[4.355975,50.860633],zoom:11});u.on("load",function(){function e(e){return e.geometry.coordinates}var t=null,o=null;(0,l.startTracking)(u),r();var p=c("origin"),d=c("destination");u.addControl(p),u.addControl(d),p.on("result",function(r){var n=r.result;t&&o===e(n)||(t=e(n))}),d.on("result",function(r){var c=r.result;o&&o===e(c)||(o&&s(),o=e(c),a(t,o,"shortest"),a(t,o,"networks"),i(t,o),n("GFR_routes"),n("GFR_symbols"))})})},{"./geolocation":1}]},{},[2]);
//# sourceMappingURL=main.min.js.map

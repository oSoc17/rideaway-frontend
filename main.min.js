"use strict";!function e(t,o,r){function n(a,l){if(!o[a]){if(!t[a]){var s="function"==typeof require&&require;if(!l&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){var o=t[a][1][e];return n(o||e)},u,u.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)n(r[a]);return n}({1:[function(e,t,o){function r(){var e=void 0,t={type:"FeatureCollection",features:[{id:"currentPosition",type:"Feature",geometry:{type:"Point",coordinates:[0,0]},properties:{title:"CURRENT POSITION",iconSize:[50,50]}}]},o=document.createElement("div");o.className="marker";var r=document.createElement("div");r.className="dot";var a=document.createElement("div");a.className="pulse",o.appendChild(r),o.appendChild(a),o.src="./icons/locator-yellow.svg";t.features[0];return e=new mapboxgl.Marker(o),navigator.geolocation?navigator.geolocation.watchPosition(function(t){return n(t,e)}):alert("Sorry, your browser doesn't support geolocation!"),window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",i),e}function n(e,t){t.setLngLat([e.coords.longitude,e.coords.latitude]),t.addTo(p)}function i(e){}function a(){p.addSource("GFR",{type:"geojson",data:"http://188.226.154.37/routes/GFR.json"}),p.addLayer({id:"GFR_routes",type:"line",source:"GFR",layout:{visibility:"visible"},paint:{"line-color":{type:"identity",property:"colour"},"line-width":5,"line-opacity":.3}}),p.addLayer({id:"GFR_symbols",type:"symbol",source:"GFR",layout:{visibility:"visible","symbol-placement":"line","text-font":["Open Sans Regular"],"text-field":"{icr}","text-size":16},paint:{"text-color":{type:"identity",property:"colour"}}})}function l(e){var t=p.getLayoutProperty(e,"visibility");t="visible"===t?"none":"visible",p.setLayoutProperty(e,"visibility",t)}function s(e,t){({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:e},properties:{title:"START",iconSize:[50,50]}},{type:"Feature",geometry:{type:"Point",coordinates:t},properties:{title:"END",iconSize:[50,50]}}]}).features.forEach(function(e){var t=document.createElement("img");t.className="marker",t.src="./icons/locator-yellow.svg",t.style.width=e.properties.iconSize[0]+"px",t.style.height=e.properties.iconSize[1]+"px",new mapboxgl.Marker(t,{offset:[-e.properties.iconSize[0]/2,-e.properties.iconSize[1]/2]}).setLngLat(e.geometry.coordinates).addTo(p)})}function c(e,t,o){e=[e[1],e[0]],t=[t[1],t[0]];var r="http://188.226.154.37/route?loc1="+e+"&loc2="+t+"&profile="+o;p.addLayer({id:o,type:"line",source:{type:"geojson",data:r},paint:{"line-color":"networks"===o?"red":"grey","line-width":4}})}function u(e){return new MapboxGeocoder({accessToken:"pk.eyJ1IjoiYXJuYXVkd2V5dHMiLCJhIjoiY2o0cGt3d3oxMXl0cDMzcXNlbThnM3RtaCJ9.BMUyxqHH-FC69pW4U4YO9A",flyTo:!1,placeholder:e,country:"BE"})}mapboxgl.accessToken="";var p=new mapboxgl.Map({container:"map",style:"https://openmaptiles.github.io/positron-gl-style/style-cdn.json",center:[4.355975,50.860633],zoom:11});p.on("load",function(){function e(e){return e.geometry.coordinates}var t=null,o=null;r(),a(),p.addControl(new mapboxgl.GeolocateControl);var n=u("origin"),i=u("destination");p.addControl(n),p.addControl(i),n.on("result",function(o){var r=o.result;return t=e(r)}),i.on("result",function(r){var n=r.result;console.log("geocoder2 result found!"),o=e(n),c(t,o,"shortest"),c(t,o,"networks"),s(t,o),l("GFR_routes"),l("GFR_symbols")})})},{}]},{},[1]);
//# sourceMappingURL=main.min.js.map
